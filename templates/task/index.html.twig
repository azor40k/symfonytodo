{% extends 'base.html.twig' %}

{% block title %}Hello TaskController!{% endblock %}

{% block body %}
<h1 class="text-center">Liste des Tâches</h1><br/>
{% if tasks is not empty %}

<table class="table">
    <thead>
        <tr>
            <th></th>
            <th>Nom de la tâche</th>
            <th>Date de rendu</th>
            <th>Description</th>
            <th>Utilisateur assigné</th>
            <th>Progression</th>
            <th>Action</th>
        </tr>
    </thead>
    <tbody>
        {% for un_task in tasks %}
        <tr>
            <td>{# CheckBox {{ form(form_taskd_done) }} #}</td>
            <td>{{un_task.nom}}</td>
            <td>{{un_task.deadline|date('d/m/Y')}}</td>
            <td>{{un_task.description}}</td>
            <td>{{un_task.utilisateur}}</td>

            <td>
            {% if un_task.done %}
            <span>Terminé</span>
            {% else %}
            <span>à Faire</span>
            {% endif %}
            </td>
            <td>            
            <a href="{{ path('update_task', {'id':un_task.id}) }}">Modifier</a> | 
            <a href="{{ path('delete_task', {'id':un_task.id}) }}">Supprimer</a>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>

{% else %}
<h3 class="text-danger">Il n'y a aucune Tâche à faire </h3>
{% endif %}

<br />

{{ form(form_task_new) }}

</div>

{% endblock %}
